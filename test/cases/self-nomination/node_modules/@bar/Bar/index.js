const { Mintable } = require('../../../../../../index.js')

const { MTA, MTB } = require('types')

for (const Type of [ MTA, MTB ]) {
  console.group(`${Type.contractKey}`)
  try {
    let minter = null
    try {
      minter = require.keys.unboxStrict(Mintable.minterFor(Type), () => true)
      console.log('Got minter')
    } catch (exc) {
      console.log('Denied access to minter')
      continue
    }

    const instance = minter()
    console.log(`Minted ${instance instanceof Type}`)

    const verifier = Mintable.verifierFor(Type)
    console.log(`Verified ${verifier(instance)}`)
  } finally {
    console.groupEnd()
  }
}
